<div>
  <div class='two columns'>
    <h6>Folders</h6>
    <hr class='small' />
    <div id='filebrowser'>
      <ul>
        <li>Project 1</li>
        <ul>
          <li>index.html</li>
          <li>css</li>
          <ul>
            <li>style.css</li>
          </ul>
          <li>js</li>
          <ul>
            <li>jquery.js</li>
          </ul>
        </ul>
      </ul>
    </div>
  </div>
  <div id='editor' class='fourteen columns'><%= @current_file["content"] %></div>
</div>
<script type='text/javascript'>
  var editor = ace.edit("editor");
  editor.setTheme("ace/theme/monokai");
  editor.getSession().setMode("ace/mode/javascript");
  editor.getSession().setTabSize(2);
  editor.getSession().setUseSoftTabs(true);

  editor.commands.addCommand({
    name: 'save',
    bindKey: {win: 'Ctrl-S',  mac: 'Command-S'},
    exec: function(editor) {
      console.log('save');
    }
  });
  
  editor.commands.addCommand({
    name: 'unbind-cr',
    bindKey: {win: 'Ctrl-R',  mac: 'Command-R'},
    exec: function(editor) {}});
  editor.commands.addCommand({
    name: 'unbind-csr',
    bindKey: {win: 'Ctrl-Shift-R',  mac: 'Command-Shift-R'},
    exec: function(editor) {}});

  window.App = new DBIDE.Views.MainView({
    projects: <%= @projects.to_json %>,
    current_file: <%= @current_file.to_json %>
  });
</script>
<hr class='small'>
<div>
  <button onclick='editor.setValue("YOU CHANGED IT");editor.gotoLine(1);'>Change</button>
  <button onclick='alert(editor.getValue())'>Alert</button>
  <button onclick='editor.setKeyboardHandler(require("ace/keyboard/vim").handler); $.ajax({
    type: "POST",
    url: "/mode",
    data: {"mode": "vim"},});'>Vim</button>
  <button onclick='editor.setTheme("ace/theme/monokai")'>Theme</button>
  <div><%= @projects.to_json %></div>
  <div><%= @current_file.to_json %></div>
</div>